{"ast":null,"code":"import _asyncToGenerator from\"C:\\\\Thinkful\\\\my-code-samples\\\\Module-31-2\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\asyncToGenerator.js\";import _slicedToArray from\"C:\\\\Thinkful\\\\my-code-samples\\\\Module-31-2\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\slicedToArray.js\";import _regeneratorRuntime from\"C:\\\\Thinkful\\\\my-code-samples\\\\Module-31-2\\\\node_modules\\\\@babel\\\\runtime\\\\regenerator\\\\index.js\";import React,{useState,useEffect}from\"react\";import{Link,useHistory,useRouteMatch,useParams}from\"react-router-dom\";import{deleteDeck,readDeck}from\"../../../utils/api\";import DisplayCards from\"./DisplayCards\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function View(){var history=useHistory();var _useRouteMatch=useRouteMatch(),url=_useRouteMatch.url;var _useParams=useParams(),deckId=_useParams.deckId;var _useState=useState(null),_useState2=_slicedToArray(_useState,2),deck=_useState2[0],setDeck=_useState2[1];useEffect(function(){function getDeck(){return _getDeck.apply(this,arguments);}function _getDeck(){_getDeck=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var response;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return readDeck(deckId);case 2:response=_context.sent;setDeck(response);case 4:case\"end\":return _context.stop();}}},_callee);}));return _getDeck.apply(this,arguments);}getDeck();},[deckId]);if(!deck)return null;return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-sm-12 p-0\",children:/*#__PURE__*/_jsx(\"div\",{className:\"card\",style:{border:\"none\"},children:/*#__PURE__*/_jsxs(\"div\",{className:\"card-body\",children:[/*#__PURE__*/_jsx(\"h5\",{className:\"card-title\",children:deck.name}),/*#__PURE__*/_jsx(\"p\",{className:\"card-text\",children:deck.description}),/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex justify-content-between\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Link,{to:\"\".concat(url,\"/edit\"),className:\"btn btn-secondary mr-1\",children:\"Edit\"}),/*#__PURE__*/_jsx(Link,{to:\"\".concat(url,\"/study\"),className:\"btn btn-primary mr-1\",children:\"Study\"}),/*#__PURE__*/_jsx(Link,{to:\"\".concat(url,\"/cards/new\"),className:\"btn btn-primary\",children:/*#__PURE__*/_jsx(\"strong\",{children:\"+ Add Cards\"})})]}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-danger\",onClick:function onClick(){if(window.confirm(\"Are you sure you want to delete this deck?\")){deleteDeck(deck.id);history.push(\"/\");}else{history.push(\"\".concat(url));}},children:\"Delete\"})})]})]})})}),/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:/*#__PURE__*/_jsx(\"h1\",{children:\"Cards\"})}),/*#__PURE__*/_jsx(DisplayCards,{deck:deck})]});}export default View;","map":{"version":3,"sources":["C:/Thinkful/my-code-samples/Module-31-2/src/components/Decks/Deck/View.js"],"names":["React","useState","useEffect","Link","useHistory","useRouteMatch","useParams","deleteDeck","readDeck","DisplayCards","View","history","url","deckId","deck","setDeck","getDeck","response","border","name","description","window","confirm","id","push"],"mappings":"oZAAA,MAAOA,CAAAA,KAAP,EAAeC,QAAf,CAAyBC,SAAzB,KAAyC,OAAzC,CACA,OAAQC,IAAR,CAAcC,UAAd,CAA0BC,aAA1B,CAAyCC,SAAzC,KAAyD,kBAAzD,CACA,OAASC,UAAT,CAAqBC,QAArB,KAAqC,oBAArC,CACA,MAAOC,CAAAA,YAAP,KAAyB,gBAAzB,C,6IAEA,QAASC,CAAAA,IAAT,EAAgB,CACd,GAAMC,CAAAA,OAAO,CAAGP,UAAU,EAA1B,CACA,mBAAcC,aAAa,EAA3B,CAAOO,GAAP,gBAAOA,GAAP,CACA,eAAiBN,SAAS,EAA1B,CAAOO,MAAP,YAAOA,MAAP,CAEA,cAAwBZ,QAAQ,CAAC,IAAD,CAAhC,wCAAOa,IAAP,eAAaC,OAAb,eAEAb,SAAS,CAAC,UAAM,SACCc,CAAAA,OADD,+HACd,sKACyBR,CAAAA,QAAQ,CAACK,MAAD,CADjC,QACQI,QADR,eAEEF,OAAO,CAACE,QAAD,CAAP,CAFF,sDADc,0CAKdD,OAAO,GACN,CANM,CAMJ,CAACH,MAAD,CANI,CAAT,CAQA,GAAI,CAACC,IAAL,CAAW,MAAO,KAAP,CACX,mBACE,wCACE,YAAK,SAAS,CAAC,eAAf,uBACE,YAAK,SAAS,CAAC,MAAf,CAAsB,KAAK,CAAE,CAACI,MAAM,CAAE,MAAT,CAA7B,uBACE,aAAK,SAAS,CAAC,WAAf,wBACE,WAAI,SAAS,CAAC,YAAd,UAA4BJ,IAAI,CAACK,IAAjC,EADF,cAEE,UAAG,SAAS,CAAC,WAAb,UAA0BL,IAAI,CAACM,WAA/B,EAFF,cAGE,aAAK,SAAS,CAAC,gCAAf,wBACE,oCACE,KAAC,IAAD,EAAM,EAAE,WAAKR,GAAL,SAAR,CAAyB,SAAS,CAAC,wBAAnC,kBADF,cAEE,KAAC,IAAD,EAAM,EAAE,WAAKA,GAAL,UAAR,CAA0B,SAAS,CAAC,sBAApC,mBAFF,cAGE,KAAC,IAAD,EAAM,EAAE,WAAKA,GAAL,cAAR,CAA8B,SAAS,CAAC,iBAAxC,uBAA0D,uCAA1D,EAHF,GADF,cAME,kCACE,eAAQ,SAAS,CAAC,gBAAlB,CAAmC,OAAO,CAAE,kBAAM,CAC1C,GAAIS,MAAM,CAACC,OAAP,CAAe,4CAAf,CAAJ,CAAkE,CAChEf,UAAU,CAACO,IAAI,CAACS,EAAN,CAAV,CACAZ,OAAO,CAACa,IAAR,CAAa,GAAb,EACD,CAHD,IAGO,CACLb,OAAO,CAACa,IAAR,WAAgBZ,GAAhB,GACD,CACF,CAPP,oBADF,EANF,GAHF,GADF,EADF,EADF,cA6BE,YAAK,SAAS,CAAC,WAAf,uBACE,6BADF,EA7BF,cAgCE,KAAC,YAAD,EAAc,IAAI,CAAEE,IAApB,EAhCF,GADF,CAqCD,CAED,cAAeJ,CAAAA,IAAf","sourcesContent":["import React, {useState, useEffect} from \"react\";\r\nimport {Link, useHistory, useRouteMatch, useParams} from \"react-router-dom\";\r\nimport { deleteDeck, readDeck } from \"../../../utils/api\";\r\nimport DisplayCards from \"./DisplayCards\";\r\n\r\nfunction View() {\r\n  const history = useHistory();\r\n  const {url} = useRouteMatch();\r\n  const {deckId} = useParams();\r\n  \r\n  const [deck, setDeck] = useState(null);\r\n\r\n  useEffect(() => {\r\n    async function getDeck() {\r\n      const response = await readDeck(deckId);\r\n      setDeck(response);\r\n    }\r\n    getDeck();\r\n    }, [deckId]);\r\n\r\n  if (!deck) return null;\r\n  return (\r\n    <> \r\n      <div className=\"col-sm-12 p-0\">\r\n        <div className=\"card\" style={{border: \"none\"}}>\r\n          <div className=\"card-body\">\r\n            <h5 className=\"card-title\">{deck.name}</h5>\r\n            <p className=\"card-text\">{deck.description}</p>\r\n            <div className=\"d-flex justify-content-between\">\r\n              <div>\r\n                <Link to={`${url}/edit`} className=\"btn btn-secondary mr-1\">Edit</Link>\r\n                <Link to={`${url}/study`} className=\"btn btn-primary mr-1\">Study</Link>\r\n                <Link to={`${url}/cards/new`} className=\"btn btn-primary\"><strong>+ Add Cards</strong></Link>\r\n              </div>\r\n              <div>\r\n                <button className=\"btn btn-danger\" onClick={() => {\r\n                        if (window.confirm(\"Are you sure you want to delete this deck?\")) {\r\n                          deleteDeck(deck.id);\r\n                          history.push(\"/\");\r\n                        } else {\r\n                          history.push(`${url}`);\r\n                        }\r\n                      }\r\n                    }>\r\n                      Delete\r\n                  </button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div className=\"container\">\r\n        <h1>Cards</h1>\r\n      </div>\r\n      <DisplayCards deck={deck}/>\r\n    </>\r\n  )\r\n  \r\n}\r\n\r\nexport default View;"]},"metadata":{},"sourceType":"module"}