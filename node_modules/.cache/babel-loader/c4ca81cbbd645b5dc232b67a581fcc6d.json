{"ast":null,"code":"import _asyncToGenerator from\"C:\\\\Thinkful\\\\my-code-samples\\\\Module-31-2\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\asyncToGenerator.js\";import _slicedToArray from\"C:\\\\Thinkful\\\\my-code-samples\\\\Module-31-2\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\slicedToArray.js\";import _regeneratorRuntime from\"C:\\\\Thinkful\\\\my-code-samples\\\\Module-31-2\\\\node_modules\\\\@babel\\\\runtime\\\\regenerator\\\\index.js\";import React,{useState,useEffect}from\"react\";import{deleteCard,readDeck}from\"./../../../utils/api\";import{Link,useRouteMatch,useHistory}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function DisplayCards(_ref){var deck=_ref.deck;var _useRouteMatch=useRouteMatch(),url=_useRouteMatch.url;var history=useHistory();var _useState=useState(null),_useState2=_slicedToArray(_useState,2),cards=_useState2[0],setCards=_useState2[1];useEffect(function(){function getCards(){return _getCards.apply(this,arguments);}function _getCards(){_getCards=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var response;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return readDeck(deck.id);case 2:response=_context.sent;setCards(response.cards);case 4:case\"end\":return _context.stop();}}},_callee);}));return _getCards.apply(this,arguments);}getCards();},[deck.id]);if(!cards)return null;return cards.map(function(card){function handleDelete(event){if(window.confirm(\"Are you sure you want to delete this card?\")){deleteCard(card.id);history.push(\"\".concat(url));setCards(function(prevCards){var newCards=prevCards.filter(function(item){return item.id!==card.id;});return newCards;});}else{event.target.parentElement.parentElement.style.backgroundColor=\"#fff\";history.push(\"\".concat(url));}}return/*#__PURE__*/_jsx(\"div\",{className:\"col-sm-6\",children:/*#__PURE__*/_jsx(\"div\",{className:\"card\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card-body\",children:[/*#__PURE__*/_jsxs(\"p\",{className:\"card-text\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Front: \"}),card.front]}),/*#__PURE__*/_jsxs(\"p\",{className:\"card-text\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Back: \"}),card.back]}),/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex justify-content-end\",children:[/*#__PURE__*/_jsx(Link,{to:\"\".concat(url,\"/cards/\").concat(card.id,\"/edit\"),className:\"btn btn-secondary mr-1\",children:\"Edit\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-danger\",onMouseDown:function onMouseDown(event){return event.target.parentElement.parentElement.style.backgroundColor=\"#E8eff1\";},onClick:handleDelete,children:\"Delete\"})]})]})})},card.id);});}export default DisplayCards;","map":{"version":3,"sources":["C:/Thinkful/my-code-samples/Module-31-2/src/components/Decks/Deck/DisplayCards.js"],"names":["React","useState","useEffect","deleteCard","readDeck","Link","useRouteMatch","useHistory","DisplayCards","deck","url","history","cards","setCards","getCards","id","response","map","card","handleDelete","event","window","confirm","push","prevCards","newCards","filter","item","target","parentElement","style","backgroundColor","front","back"],"mappings":"oZAAA,MAAOA,CAAAA,KAAP,EAAeC,QAAf,CAAyBC,SAAzB,KAAyC,OAAzC,CACA,OAASC,UAAT,CAAqBC,QAArB,KAAqC,sBAArC,CACA,OAAQC,IAAR,CAAcC,aAAd,CAA6BC,UAA7B,KAA8C,kBAA9C,C,wFAEA,QAASC,CAAAA,YAAT,MAA8B,IAAPC,CAAAA,IAAO,MAAPA,IAAO,CAC5B,mBAAcH,aAAa,EAA3B,CAAOI,GAAP,gBAAOA,GAAP,CACA,GAAMC,CAAAA,OAAO,CAAGJ,UAAU,EAA1B,CAEA,cAA0BN,QAAQ,CAAC,IAAD,CAAlC,wCAAOW,KAAP,eAAcC,QAAd,eAEAX,SAAS,CAAC,UAAM,SACCY,CAAAA,QADD,kIACd,sKACyBV,CAAAA,QAAQ,CAACK,IAAI,CAACM,EAAN,CADjC,QACQC,QADR,eAEEH,QAAQ,CAACG,QAAQ,CAACJ,KAAV,CAAR,CAFF,sDADc,2CAKdE,QAAQ,GACT,CANQ,CAMN,CAACL,IAAI,CAACM,EAAN,CANM,CAAT,CASA,GAAI,CAACH,KAAL,CAAY,MAAO,KAAP,CACZ,MACEA,CAAAA,KAAK,CAACK,GAAN,CAAU,SAAAC,IAAI,CAAI,CAEhB,QAASC,CAAAA,YAAT,CAAsBC,KAAtB,CAA6B,CAC3B,GAAIC,MAAM,CAACC,OAAP,CAAe,4CAAf,CAAJ,CAAkE,CAChEnB,UAAU,CAACe,IAAI,CAACH,EAAN,CAAV,CACAJ,OAAO,CAACY,IAAR,WAAgBb,GAAhB,GACAG,QAAQ,CAAC,SAAAW,SAAS,CAAI,CACpB,GAAMC,CAAAA,QAAQ,CAAGD,SAAS,CAACE,MAAV,CAAiB,SAAAC,IAAI,QAAIA,CAAAA,IAAI,CAACZ,EAAL,GAAYG,IAAI,CAACH,EAArB,EAArB,CAAjB,CACA,MAAOU,CAAAA,QAAP,CACD,CAHO,CAAR,CAID,CAPD,IAOO,CACLL,KAAK,CAACQ,MAAN,CAAaC,aAAb,CAA2BA,aAA3B,CAAyCC,KAAzC,CAA+CC,eAA/C,CAAiE,MAAjE,CACApB,OAAO,CAACY,IAAR,WAAgBb,GAAhB,GACD,CACF,CAED,mBACE,YAAK,SAAS,CAAC,UAAf,uBACE,YAAK,SAAS,CAAC,MAAf,uBACE,aAAK,SAAS,CAAC,WAAf,wBACE,WAAG,SAAS,CAAC,WAAb,wBAAyB,mCAAzB,CAAkDQ,IAAI,CAACc,KAAvD,GADF,cAEE,WAAG,SAAS,CAAC,WAAb,wBAAyB,kCAAzB,CAAiDd,IAAI,CAACe,IAAtD,GAFF,cAGE,aAAK,SAAS,CAAE,4BAAhB,wBACE,KAAC,IAAD,EAAM,EAAE,WAAKvB,GAAL,mBAAkBQ,IAAI,CAACH,EAAvB,SAAR,CAAyC,SAAS,CAAC,wBAAnD,kBADF,cAEE,eAAQ,SAAS,CAAC,gBAAlB,CAAmC,WAAW,CAAE,qBAACK,KAAD,QAAWA,CAAAA,KAAK,CAACQ,MAAN,CAAaC,aAAb,CAA2BA,aAA3B,CAAyCC,KAAzC,CAA+CC,eAA/C,CAAiE,SAA5E,EAAhD,CAAuI,OAAO,CAAEZ,YAAhJ,oBAFF,GAHF,GADF,EADF,EAA+BD,IAAI,CAACH,EAApC,CADF,CAcD,CA9BD,CADF,CAiCD,CAED,cAAeP,CAAAA,YAAf","sourcesContent":["import React, {useState, useEffect} from \"react\";\r\nimport { deleteCard, readDeck } from \"./../../../utils/api\";\r\nimport {Link, useRouteMatch, useHistory} from \"react-router-dom\";\r\n\r\nfunction DisplayCards({deck}) {\r\n  const {url} = useRouteMatch();\r\n  const history = useHistory();\r\n  \r\n  const [cards, setCards] = useState(null);\r\n\r\n  useEffect(() => {\r\n    async function getCards() {\r\n      const response = await readDeck(deck.id);\r\n      setCards(response.cards);\r\n    } \r\n    getCards();\r\n  }, [deck.id])\r\n\r\n  \r\n  if (!cards) return null;\r\n  return (\r\n    cards.map(card => {\r\n      \r\n      function handleDelete(event) {\r\n        if (window.confirm(\"Are you sure you want to delete this card?\")) {\r\n          deleteCard(card.id);\r\n          history.push(`${url}`);\r\n          setCards(prevCards => {\r\n            const newCards = prevCards.filter(item => item.id !== card.id)\r\n            return newCards;\r\n          })\r\n        } else {\r\n          event.target.parentElement.parentElement.style.backgroundColor = \"#fff\";\r\n          history.push(`${url}`)\r\n        }\r\n      }\r\n\r\n      return (\r\n        <div className=\"col-sm-6\" key={card.id}>\r\n          <div className=\"card\">\r\n            <div className=\"card-body\">\r\n              <p className=\"card-text\"><strong>Front: </strong>{card.front}</p>\r\n              <p className=\"card-text\"><strong>Back: </strong>{card.back}</p>\r\n              <div className= \"d-flex justify-content-end\">\r\n                <Link to={`${url}/cards/${card.id}/edit`}className=\"btn btn-secondary mr-1\">Edit</Link>\r\n                <button className=\"btn btn-danger\" onMouseDown={(event) => event.target.parentElement.parentElement.style.backgroundColor = \"#E8eff1\"} onClick={handleDelete}>Delete</button>\r\n              </div>  \r\n            </div>        \r\n          </div>\r\n        </div>\r\n      )\r\n    })\r\n  )\r\n}\r\n\r\nexport default DisplayCards;"]},"metadata":{},"sourceType":"module"}