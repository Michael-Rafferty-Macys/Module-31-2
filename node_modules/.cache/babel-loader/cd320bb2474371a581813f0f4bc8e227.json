{"ast":null,"code":"import _slicedToArray from\"C:\\\\Thinkful\\\\my-code-samples\\\\Module-31-2\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\slicedToArray.js\";import React,{useState,useEffect}from\"react\";import{Link,useHistory}from\"react-router-dom\";import{deleteDeck,listDecks}from\"./../../utils/api/index\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function ShowDecks(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),decks=_useState2[0],setDecks=_useState2[1];useEffect(function(){var controller=new AbortController();var signal=controller.signal;listDecks(signal).then(function(decks){return listDecks(decks);});return function(){return controller.abort();};},[]);var history=useHistory();// creates a card listing for each deck\nvar deckListings=decks.map(function(deck){var cards=deck.cards;function handleDelete(event){if(window.confirm(\"Are you sure you want to delete this deck?\")){deleteDeck(deck.id);setDecks(function(prevDeck){var newDeck=prevDeck.filter(function(item){return item.id!==deck.id;});return newDeck;});}else{event.target.parentElement.parentElement.parentElement.style.backgroundColor=\"#fff\";history.push(\"/\");}}return/*#__PURE__*/_jsx(\"div\",{className:\"col-sm-6\",children:/*#__PURE__*/_jsx(\"div\",{className:\"card\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card-body\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex justify-content-between\",children:[/*#__PURE__*/_jsx(\"h5\",{className:\"card-title\",children:deck.name}),/*#__PURE__*/_jsx(\"p\",{children:\"\".concat(cards.length,\" cards\")})]}),/*#__PURE__*/_jsx(\"p\",{className:\"card-text\",children:deck.description}),/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex justify-content-between\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Link,{to:\"/decks/\".concat(deck.id),className:\"btn btn-secondary mr-1\",children:\"View\"}),/*#__PURE__*/_jsx(Link,{to:\"/decks/\".concat(deck.id,\"/study\"),className:\"btn btn-primary\",children:\"Study\"})]}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-danger\",onMouseDown:function onMouseDown(event){return event.target.parentElement.parentElement.parentElement.style.backgroundColor=\"#E8eff1\";},onClick:handleDelete,children:\"Delete\"})})]})]})})},deck.id);});return/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:deckListings});}export default ShowDecks;","map":{"version":3,"sources":["C:/Thinkful/my-code-samples/Module-31-2/src/components/Home/ShowDecks.js"],"names":["React","useState","useEffect","Link","useHistory","deleteDeck","listDecks","ShowDecks","decks","setDecks","controller","AbortController","signal","then","abort","history","deckListings","map","deck","cards","handleDelete","event","window","confirm","id","prevDeck","newDeck","filter","item","target","parentElement","style","backgroundColor","push","name","length","description"],"mappings":"sIAAA,MAAOA,CAAAA,KAAP,EAAeC,QAAf,CAAyBC,SAAzB,KAAyC,OAAzC,CACA,OAAQC,IAAR,CAAcC,UAAd,KAA+B,kBAA/B,CACA,OAASC,UAAT,CAAqBC,SAArB,KAAsC,yBAAtC,C,wFAEA,QAASC,CAAAA,SAAT,EAAqB,CAEnB,cAA0BN,QAAQ,CAAC,EAAD,CAAlC,wCAAOO,KAAP,eAAcC,QAAd,eAEAP,SAAS,CAAC,UAAM,CACd,GAAMQ,CAAAA,UAAU,CAAG,GAAIC,CAAAA,eAAJ,EAAnB,CACA,GAAMC,CAAAA,MAAM,CAAGF,UAAU,CAACE,MAA1B,CACAN,SAAS,CAACM,MAAD,CAAT,CAAkBC,IAAlB,CAAuB,SAACL,KAAD,QAAWF,CAAAA,SAAS,CAACE,KAAD,CAApB,EAAvB,EACA,MAAO,kBAAME,CAAAA,UAAU,CAACI,KAAX,EAAN,EAAP,CACD,CALQ,CAKN,EALM,CAAT,CAMA,GAAMC,CAAAA,OAAO,CAAGX,UAAU,EAA1B,CAGA;AACA,GAAMY,CAAAA,YAAY,CAAGR,KAAK,CAACS,GAAN,CAAU,SAACC,IAAD,CAAU,CACvC,GAAMC,CAAAA,KAAK,CAAGD,IAAI,CAACC,KAAnB,CAEA,QAASC,CAAAA,YAAT,CAAsBC,KAAtB,CAA6B,CAC3B,GAAIC,MAAM,CAACC,OAAP,CAAe,4CAAf,CAAJ,CAAkE,CAChElB,UAAU,CAACa,IAAI,CAACM,EAAN,CAAV,CACAf,QAAQ,CAAC,SAAAgB,QAAQ,CAAI,CACnB,GAAMC,CAAAA,OAAO,CAAGD,QAAQ,CAACE,MAAT,CAAgB,SAAAC,IAAI,QAAIA,CAAAA,IAAI,CAACJ,EAAL,GAAYN,IAAI,CAACM,EAArB,EAApB,CAAhB,CACA,MAAOE,CAAAA,OAAP,CACD,CAHO,CAAR,CAID,CAND,IAMO,CACLL,KAAK,CAACQ,MAAN,CAAaC,aAAb,CAA2BA,aAA3B,CAAyCA,aAAzC,CAAuDC,KAAvD,CAA6DC,eAA7D,CAA+E,MAA/E,CACAjB,OAAO,CAACkB,IAAR,CAAa,GAAb,EACD,CACF,CAED,mBACE,YAAK,SAAS,CAAC,UAAf,uBACE,YAAK,SAAS,CAAC,MAAf,uBACE,aAAK,SAAS,CAAC,WAAf,wBACE,aAAK,SAAS,CAAC,gCAAf,wBACE,WAAI,SAAS,CAAC,YAAd,UAA4Bf,IAAI,CAACgB,IAAjC,EADF,cAEE,6BAAOf,KAAK,CAACgB,MAAb,YAFF,GADF,cAKE,UAAG,SAAS,CAAC,WAAb,UAA0BjB,IAAI,CAACkB,WAA/B,EALF,cAME,aAAK,SAAS,CAAC,gCAAf,wBACE,oCACE,KAAC,IAAD,EAAM,EAAE,kBAAYlB,IAAI,CAACM,EAAjB,CAAR,CAA+B,SAAS,CAAC,wBAAzC,kBADF,cAEE,KAAC,IAAD,EAAM,EAAE,kBAAYN,IAAI,CAACM,EAAjB,UAAR,CAAqC,SAAS,CAAC,iBAA/C,mBAFF,GADF,cAKE,kCACE,eAAQ,SAAS,CAAC,gBAAlB,CAAmC,WAAW,CAAE,qBAACH,KAAD,QAAWA,CAAAA,KAAK,CAACQ,MAAN,CAAaC,aAAb,CAA2BA,aAA3B,CAAyCA,aAAzC,CAAuDC,KAAvD,CAA6DC,eAA7D,CAA+E,SAA1F,EAAhD,CAAqJ,OAAO,CAAEZ,YAA9J,oBADF,EALF,GANF,GADF,EADF,EAA+BF,IAAI,CAACM,EAApC,CADF,CAsBD,CAtCoB,CAArB,CAwCA,mBACE,YAAK,SAAS,CAAC,KAAf,UACGR,YADH,EADF,CAKD,CAED,cAAeT,CAAAA,SAAf","sourcesContent":["import React, {useState, useEffect} from \"react\";\r\nimport {Link, useHistory} from \"react-router-dom\";\r\nimport { deleteDeck, listDecks } from \"./../../utils/api/index\";\r\n\r\nfunction ShowDecks() {\r\n\r\n  const [decks, setDecks] = useState([]);\r\n\r\n  useEffect(() => {\r\n    const controller = new AbortController();\r\n    const signal = controller.signal;\r\n    listDecks(signal).then((decks) => listDecks(decks));\r\n    return () => controller.abort();\r\n  }, []);\r\n  const history = useHistory();\r\n\r\n   \r\n  // creates a card listing for each deck\r\n  const deckListings = decks.map((deck) => {\r\n    const cards = deck.cards;\r\n    \r\n    function handleDelete(event) {\r\n      if (window.confirm(\"Are you sure you want to delete this deck?\")) {\r\n        deleteDeck(deck.id);\r\n        setDecks(prevDeck => {\r\n          const newDeck = prevDeck.filter(item => item.id !== deck.id)\r\n          return newDeck;\r\n        })  \r\n      } else {\r\n        event.target.parentElement.parentElement.parentElement.style.backgroundColor = \"#fff\";\r\n        history.push(\"/\");\r\n      }\r\n    }\r\n    \r\n    return (\r\n      <div className=\"col-sm-6\" key={deck.id}>\r\n        <div className=\"card\">\r\n          <div className=\"card-body\">\r\n            <div className='d-flex justify-content-between'>\r\n              <h5 className=\"card-title\">{deck.name}</h5>\r\n              <p>{`${cards.length} cards`}</p>\r\n            </div>\r\n            <p className=\"card-text\">{deck.description}</p>\r\n            <div className=\"d-flex justify-content-between\">\r\n              <div>\r\n                <Link to={`/decks/${deck.id}`} className=\"btn btn-secondary mr-1\">View</Link>\r\n                <Link to={`/decks/${deck.id}/study`} className=\"btn btn-primary\">Study</Link>\r\n              </div>\r\n              <div>\r\n                <button className=\"btn btn-danger\" onMouseDown={(event) => event.target.parentElement.parentElement.parentElement.style.backgroundColor = \"#E8eff1\"} onClick={handleDelete}>Delete</button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      )\r\n  })\r\n  \r\n  return (\r\n    <div className=\"row\">\r\n      {deckListings}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default ShowDecks;"]},"metadata":{},"sourceType":"module"}